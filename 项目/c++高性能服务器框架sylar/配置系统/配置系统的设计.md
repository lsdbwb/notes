# 整体结构
![[Pasted image 20220504110419.png]]
## 内存中的配置系统
- 一个配置项即为一个ConfigVar，ConfigVar有三个成员:
	1. m_name : 配置项的名称
	2. m_description : 配置项的描述
	3. m_var ：具体的配置项的值（值的类型是不确定的,所以使用模板类型T来表示）
- 所有的配置项由Config类负责管理，配置存放在Config类的s_datas中。s_datas是一个map,key为配置项的名称,value为ConfigVar的智能指针
	` typedef std::map<std::string, ConfigVarBase::ptr> ConfigVarMap;`
	Config类的成员和方法都是static的，这是因为整个服务器框架只需要一个全局的Config
## 配置文件
- 使用的配置文件的格式为YAML
- 使用YAML-CPP库来做YAML配置文件的序列化和反序列化
- YAML配置文件中的每一个配置项对应内存中的一个YAML::node节点
- 我们的内存配置系统使用LoadFromYaml（YAML::node）从根节点开始遍历，处理每一个配置项并加入到保存所有配置的map s_datas中
