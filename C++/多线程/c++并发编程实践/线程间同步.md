## 线程间进行同步的方法
### 等待事件(event)或者某个条件(condition)
- 使用条件变量(condition variable)
	条件变量需要和mutex一起使用以完成同步操作
	c++标准库有两种条件变量:
	- std::condtion_variable(最常用) : 只能和std::mutex一起使用
	- std::condition_variable_any : 可以和任何满足**mutex最小定义**的锁一起使用
- 常用工作模式
	 通常用条件变量来实现任务队列
	 分为数据生产者线程和数据消费者线程
	 - 生产者线程的任务：
		 准备数据，然后调用条件变量的notify函数通知等待在条件变量上的消费者线程并唤醒
	- 消费者线程的任务：
			调用条件变量的wait函数，先判断条件是否满足了，满足了则直接继续执行，没满足则将该线程放到等待队列上，**同时释放锁**。
- 实现细节：
	消费者线程只能使用std::unique_lock来申请mutex，这是因为消费者线程每次进入等待状态时都需要释放mutex,std::lock_guard无法做到。
### 等待one-off event
one-off event指的是消费者线程只等待某个条件一次，等待一次成功后，后续便不等待了。