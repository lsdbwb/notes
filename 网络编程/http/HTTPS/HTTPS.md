# 为什么需要HTTPS
因为HTTP不安全

由于HTTP天生明文的特点，整个传输过程完全透明，任何人都能在链路中截获、修改或者伪造HTTP请求响应报文，数据不具有可信性

# 安全的通信过程的特点
通常认为，如果通信过程具备了四个特性，就可以认为是“安全”的，这四个特性是：机密性、完整性，身份认证和不可否认。

## 机密性
指对数据进行保密，除了通信的双方，其他人不能直接看到报文的内容
HTTP是明文传输，因此没有机密性

## 完整性
指数据在传输过程中有没有被篡改，不多也不少，完完整整地保持原状

机密性虽然可以让数据成为“秘密”，但不能防止黑客对数据的修改，黑客可以替换数据，调整数据的顺序，或者增加、删除部分数据，破坏通信过程。

## 身份认证
指确认对方的真实身份，即确定你就是你。保证消息只能发送给可信的人。

如果通信时另一方是假冒的网站，那么数据再保密也没有用，黑客完全可以使用冒充的身份“套”出各种信息，加密和没加密一样。

## 不可否认
也叫不可抵赖，意思是不能否认已经发生过的行为，不能“说话不算数”“耍赖皮”。

使用前三个特性，可以解决安全通信的大部分问题，但如果缺了不可否认，那**通信的事务真实性**就得不到保证，有可能出现“老赖”。

# HTTPS
HTTPS为HTTP增加了以上四大安全特性

HTTPS其实是一个“非常简单”的协议，RFC文档很小，只有短短的7页，里面规定了**新的协议名“https”，默认端口号443**，至于其他的什么请求-应答模式、报文结构、请求方法、URI、头字段、连接管理等等都完全沿用HTTP，没有任何新的东西

**HTTPS如何保证安全：**
原来HTTP是基于TCP，HTTPS是基于SSL/TLS。因此HTTPS就是通过SSL/TLS来实现安全的
![[Pasted image 20220624151509.png]]

# SSL/TLS
SSL(Secure Socket Layer，安全套接字层)

TLS（Translation Layer Secure，传输层安全）

SSL发展到v3时已经证明了它自身是一个非常好的安全通信协议，于是互联网工程组IETF在1999年把它改名为TLS（传输层安全，Transport Layer Security），正式标准化，版本号从1.0重新算起，所以*TLS1.0实际上就是SSLv3.1*

目前应用的最广泛的TLS是1.2

TLS由记录协议、握手协议、警告协议、变更密码规范协议、扩展协议等几个子协议组成，综合使用了对称加密、非对称加密、身份认证等许多密码学前沿技术。

浏览器和服务器在使用TLS建立连接时需要选择一组恰当的加密算法来实现安全通信，这些算法的组合被称为“*密码套件*”（cipher suite，也叫加密套件）。

**密码套件的基本格式**：
基本的形式是“密钥交换算法+签名算法+对称加密算法+摘要算法

举例：
“ECDHE-RSA-AES256-GCM-SHA384”
“握手时使用ECDHE算法进行密钥交换，用RSA签名和身份认证，握手后的通信使用AES对称算法，密钥长度256位，分组模式是GCM，摘要算法SHA384用于消息认证和产生随机数。”


# Open SSL
说到TLS，就不能不谈到OpenSSL，它是一个著名的*开源密码学程序库和工具包*，几乎支持所有公开的加密算法和协议，已经成为了事实上的标准，许多应用软件都会使用它作为底层库来实现TLS功能，包括常用的Web服务器Apache、Nginx等。

OpenSSL是从另一个开源库SSLeay发展出来的，曾经考虑命名为“OpenTLS”，但当时（1998年）TLS还未正式确立，而SSL早已广为人知，所以最终使用